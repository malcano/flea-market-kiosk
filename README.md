# 🏪 우리동네 플리마켓 키오스크 (Flea Market Kiosk) 사용 매뉴얼

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![React](https://img.shields.io/badge/React-18.2.0-blue.svg)](https://reactjs.org/)
[![Vite](https://img.shields.io/badge/Vite-5.2.2-646CFF.svg)](https://vitejs.dev/)

아이패드(iPad) 및 태블릿 환경에 최적화된 오프라인 플리마켓/팝업스토어 전용 무인 결제 키오스크 웹 애플리케이션입니다. 

이 문서는 키오스크의 **설치부터 실제 매장 운영, 정산 내역 다운로드**까지의 모든 기능을 상세히 안내하는 **사용자 매뉴얼**입니다.

---

## 📖 목차
1. [주요 특징 및 장점](#1-주요-특징-및-장점)
2. [키오스크 시작하기 (설치 및 앱 세팅)](#2-키오스크-시작하기-설치-및-앱-세팅)
3. [메인 화면 (판매 및 결제 모드)](#3-메인-화면-판매-및-결제-모드-사용법)
4. [관리자 대시보드 (매장 관리 및 정산)](#4-관리자-대시보드-매장-관리-및-정산)
5. [단축 팁 및 문제 해결](#5-단축-팁-및-문제-해결)

---

## 1. 주요 특징 및 장점

- **완벽한 오프라인 지원**: 모든 상품 정보와 결제 기록이 브라우저 내부(IndexedDB)에 영구 저장되므로 현장에 와이파이나 데이터가 끊겨도 장사는 정상적으로 진행됩니다.
- **설치형 앱 (PWA)**: 인터넷 주소창이 보이지 않는 쾌적한 풀스크린(Full-Screen) 앱 형태로 아이패드나 바탕화면에 바로가기를 설치할 수 있습니다.
- **강력한 정산 및 회계**: 영수증 내역을 그대로 엑셀 파일(Excel)로 다운로드하여, 행사 종료 직후 1초 만에 깔끔한 회계 보고서를 만들 수 있습니다.
- **모던한 디자인**: 다크 모드/라이트 모드를 지원하여 시간대나 팝업스토어 컨셉에 맞춰 고급스러운 연출이 가능합니다.

---

## 2. 키오스크 시작하기 (설치 및 앱 세팅)

### 로컬 환경에서 실행하기
본인의 노트북이나 태블릿에서 직접 구동하려면 아래 명령어를 사용하세요. (Node.js 필수)
```bash
git clone https://github.com/malcano/flea-market-kiosk.git
cd flea-market-kiosk
npm install
npm run dev
```

### 📱 아이패드/태블릿에 앱처럼 설치하기 (PWA)
1. 크롬(Chrome)이나 사파리(Safari) 브라우저로 앱 URL(또는 localhost 주소)에 접속합니다.
2. 주소창 우측의 **'앱 다운로드(내보내기)'** 아이콘을 누르거나, iOS 사파리 기준 **'홈 화면에 추가'**를 누릅니다.
3. 바탕화면에 생성된 **'키오스크 앱'** 아이콘을 클릭해 전체 화면으로 실행합니다. (주소창이 사라져 고객에게 완벽한 키오스크 경험을 제공합니다.)

---

## 3. 메인 화면 (판매 및 결제 모드) 사용법

메인 화면은 고객이 직접 터치하거나, 판매자가 빠르게 주문을 입력할 수 있도록 설계되었습니다.

### 🛍️ 장바구니 담기 및 메뉴 조작
1. **타이틀 변경**: 메인 화면 상단의 "플리마켓 키오스크" 글자 옆 **연필 아이콘**을 누르면 우리 매장 이름(예: "우리동네 붕어빵")으로 영구 변경할 수 있습니다.
2. **카테고리 선택**: 화면 중앙의 탭(예: 음식, 음료, 등)을 눌러 상품군을 전환합니다.
3. **메뉴 클릭**: 원하는 상품 카드를 여러 번 클릭하면 우측 장바구니 영역에 수량이 늘어납니다.
4. **장바구니 관리**: 우측 사이드바에서 `+`, `-`, `휴지통` 아이콘을 눌러 수량을 유연하게 조절합니다. 

### 💳 결제 진행하기 (현금/카드)
1. 장바구니 하단의 **'결제하기'** 버튼을 누릅니다.
2. 결제 팝업에서 **[카드 결제]** 또는 **[현금 결제]**를 선택합니다.
   - **카드 결제**: 별도의 거스름돈 없이 즉시 결제가 승인되고 매출로 기록됩니다.
   - **현금 결제**: 화면에 나타나는 현금 입력판(예: 10,000원, 50,000원 버튼 등)을 이용해 '손님이 낸 금액'을 입력하면, 키오스크가 돌려주어야 할 **거스름돈을 자동으로 정확하게 계산**해 화면에 띄워줍니다. 이후 '결제 완료'를 누릅니다.

---

## 4. 관리자 대시보드 (매장 관리 및 정산)

화면 좌측 하단의 **톱니바퀴 아이콘**을 누르면 매장을 컨트롤하는 관리자 모드로 진입합니다. 

### 🔒 보안 및 접속 (PIN 번호)
- **초기 비밀번호**: `0000`을 입력 후 [접속하기]를 누릅니다.
- **PIN 변경**: 대시보드 내 **'비밀번호 변경'** 탭에서 언제든지 4자리 번호로 수정 가능합니다.
- **PIN 분실 (초기화)**: 로그인 화면 하단의 '비밀번호를 잊으셨나요?'를 클릭 후 팝업 지시에 따라 `초기화` 문구를 정확히 입력하면 다시 `0000`으로 뚫을 수 있습니다.

### 💰 매출 대시보드 확인
- **총 결제 횟수 & 총 매출액**: 오늘 하루 발생한 모든 실적을 실시간으로 확인합니다.
- **보유 현금 (시재 관리)**: 장사 시작 전 투입한 '시작 현금'과 오늘 현금 결제로 발생한 매출을 합산하여, 현재 우리 금고에 정확히 얼마의 지폐가 들어있어야 하는지 알려줍니다.

### 📦 상품 관리 (추가/수정/삭제)
1. **수동 추가**: [제품 직접 추가] 버튼을 눌러 사진 없는 텍스트 상품(이름, 가격, 카테고리)을 즉석에서 쉽게 추가할 수 있습니다.
2. **엑셀(Excel) 일괄 업로드**: 상품 100개를 한 번에 올리고 싶다면 [템플릿 다운로드]로 엑셀 틀을 받은 뒤, 거기에 가격과 이름을 쫙 적어 저장하고 [엑셀 일괄 업로드]로 한 방에 등록합니다!

### 🧾 상세 영수증 확인 및 결제 취소(삭제)
대시보드 상단의 파란색 **'총 매출액' 칸을 클릭**하면 오늘 있었던 모든 영수증 리스트가 팝업으로 열립니다.
- 결제가 잘못되었거나 테스트로 찍어본 주문이 있다면, 우측 끝의 **쓰레기통 아이콘**을 눌러 해당 결제 건을 매출에서 깔끔하게 삭제할 수 있습니다. (삭제 시 총매출액과 시재도 자동 복구됨)

### 📊 실적 파일 다운로드 (회계 정산용)
모든 행사가 끝났다면 대시보드 우측 상단의 **[실적 파일 다운로드]** 버튼을 누르세요.
- **엑셀 구조**: 
  1) `총계 요약` 탭 (시작 현금, 카드/현금 총액)
  2) `상품/카테고리별 집계` 탭 (어떤 핫도그가 몇 개 팔렸는지 랭킹)
  3) `상세 내역` 탭 (몇시 몇분에 어떤 결제로 거스름돈은 얼마 주고 팔았는지 1:1 리스트업)

---

## 5. 단축 팁 및 문제 해결

- **다크 모드**: 우측 하단의 🌞/🌙 아이콘을 눌러 야간 축제나 어두운 실내 팝업스토어에 어울리는 최적의 눈 편한 고대비 화면으로 바꿀 수 있습니다.
- **모든 데이터 삭제 (새 행사 준비)**: 새로운 행사를 위해 매출을 '0'으로 만들고 싶다면 관리자 페이지 최하단의 **[전체 데이터 초기화]**를 눌러 깨끗하게 포맷하세요. (등록된 상품 세팅은 유지되고 실적만 지워집니다)

---

## 🤖 AI Assisted Development

이 프로젝트의 초기 기획과 주요 코드 작성 전반은 **[Google DeepMind Antigravity](https://deepmind.google/technologies/)** AI 코딩 어시스턴트와의 페어 프로그래밍을 통해 빠르고 안정적으로 개발/최적화 되었습니다. (Created with Google's Antigravity)

---

## 🛠️ 주요 사용 기술스택 (Tech Stack)

- **UI Framework**: React 18, TypeScript (Vite)
- **State Management**: Zustand (+ persist + idb-keyval 콤보로 최적화된 오프라인 로컬 저장소 구축)
- **Styling**: Native Vanilla CSS (모던 CSS Variables와 유리 질감 Glassmorphism 레이아웃)
- **Icons**: Lucide React 
- **Utilities**: xlsx (엑셀 자동 생성기)
- **PWA**: vite-plugin-pwa (매니페스트 & 캐싱/서비스워커 적용)
